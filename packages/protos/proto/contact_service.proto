syntax = "proto3";

package weebi.contact.service;

import "contact.proto";

import "common/address.proto";
import "common/phone.proto";
import "common/g_common.proto";

message FindContactRequest {
  string chainOid = 1 [json_name = 'chainOid'];;
  string firstName =  2 [json_name = 'firstName'];
  string lastName =  3 [json_name = 'lastName'];
  optional string mail =  4 [json_name = 'mail'];
  optional weebi.common.phone.Phone phone =  5 [json_name = 'phone'];
  optional weebi.common.address.Address address =  6 [json_name = 'addressFull'];
}

message ReadAllContactsRequest {
  string chainOid = 1;
}

message ContactRequest {
  string chainOid = 1;
  weebi.contact.ContactPb contact = 2;
}

message ContactsResponse {
  repeated weebi.contact.ContactPb contacts = 1;
}

service ContactService {
  rpc readAll (ReadAllContactsRequest) returns  (ContactsResponse);
  rpc readOne (FindContactRequest) returns (weebi.contact.ContactPb);
  rpc createOne (ContactRequest) returns (google.retail.common.StatusResponse);
  rpc replaceOne (ContactRequest) returns (google.retail.common.StatusResponse);
  rpc deleteOne (ContactRequest) returns (google.retail.common.StatusResponse);
}